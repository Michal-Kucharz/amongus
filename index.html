<!DOCTYPE html>
<html lang="pl-PL">
<head>
  <meta charset="UTF-8">
  <title>Among Us Role Finder</title>
  <meta name="author" content="michalh3">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      position: relative;
      padding: 20px;

      /* GŁADKIE, KOSMICZNE TŁO – bez ostrych plam w rogach */
      background:
        radial-gradient(circle at 10% 90%, rgba(20, 80, 130, 0.25) 0, transparent 65%),
        radial-gradient(circle at 90% 5%, rgba(120, 60, 200, 0.20) 0, transparent 70%),
        linear-gradient(135deg, #030819 0%, #050b28 40%, #120b44 75%, #120739 100%);
      transition: background 0.5s ease, color 0.5s ease;
    }

    /* GALAKTYKA – miękka, nie wychodzi w rogi */
    body::before {
      content: "";
      position: fixed;
      inset: -5%;
      pointer-events: none;
      z-index: -4;
      background:
        radial-gradient(ellipse at 50% 35%, rgba(255, 255, 255, 0.13) 0, transparent 60%),
        radial-gradient(ellipse at 35% 50%, rgba(170, 210, 255, 0.16) 0, transparent 60%),
        radial-gradient(ellipse at 70% 65%, rgba(255, 170, 230, 0.14) 0, transparent 60%);
      opacity: 0.45;
      transform: rotate(-18deg) translateY(-2%);
      transform-origin: center;
      filter: blur(8px);
      animation: galaxyPulse 26s ease-in-out infinite;
    }

    @keyframes galaxyPulse {
      0% {
        opacity: 0.40;
        transform: rotate(-18deg) translateY(-2%) scale(1);
      }
      25% {
        opacity: 0.48;
        transform: rotate(-18deg) translateY(-3%) scale(1.02);
      }
      50% {
        opacity: 0.55;
        transform: rotate(-18deg) translateY(-1%) scale(1.04);
      }
      75% {
        opacity: 0.48;
        transform: rotate(-18deg) translateY(-3%) scale(1.02);
      }
      100% {
        opacity: 0.40;
        transform: rotate(-18deg) translateY(-2%) scale(1);
      }
    }

    .page-wrapper {
      max-width: 960px;
      margin: 0 auto;
      width: 100%;
    }

    /* === TRYB PRZEGLĄDANIA (VIEW MODE) === */
    /* Desktop: układ 2-kolumnowy dla listy ról i opisu */
    @media (min-width: 900px) {
      body.view-mode .page-wrapper {
        display: grid;
        grid-template-columns: minmax(260px, 320px) minmax(0, 1fr);
        gap: 24px;
        align-items: flex-start;
      }

      /* Nagłówek i przyciski trybów na całą szerokość u góry/dołu */
      body.view-mode header {
        grid-column: 1 / -1;
      }

      body.view-mode .mode-buttons {
        grid-column: 1 / -1;
      }

      /* Lewa kolumna: wyszukiwarka + lista */
      body.view-mode .search-wrapper,
      body.view-mode h2,
      body.view-mode .button-container {
        grid-column: 1 / 2;
      }

      /* Prawa kolumna: opis roli */
      body.view-mode #display-text {
        grid-column: 2 / 3;
        margin-left: 0;
        margin-right: 0;
        max-width: 100%;
      }
    }

    /* === ANIMOWANE GWIAZDY === */
    #stars, #stars2, #stars3 {
      position: fixed;
      top: 0;
      left: 0;
      width: 220%;
      height: 220%;
      z-index: -3;
      background-repeat: repeat;
      animation: moveStars 160s linear infinite;
    }

    #stars {
      background-image:
        radial-gradient(1px 1px at 10px 10px, rgba(255, 255, 255, 0.6), transparent 40%),
        radial-gradient(1px 1px at 70px 50px, rgba(180, 210, 255, 0.45), transparent 40%);
      background-size: 240px 240px;
      opacity: 0.45;
    }

    #stars2 {
      background-image:
        radial-gradient(1.5px 1.5px at 40px 40px, rgba(120, 190, 255, 0.75), transparent 45%),
        radial-gradient(1.5px 1.5px at 120px 90px, rgba(80, 230, 255, 0.65), transparent 45%);
      background-size: 200px 200px;
      animation-duration: 120s;
      opacity: 0.55;
      z-index: -2;
    }

    #stars3 {
      background-image:
        radial-gradient(1.8px 1.8px at 30px 30px, rgba(255, 140, 200, 0.85), transparent 45%),
        radial-gradient(1.8px 1.8px at 90px 130px, rgba(255, 220, 180, 0.85), transparent 45%);
      background-size: 180px 180px;
      animation-duration: 80s;
      opacity: 0.65;
      z-index: -1;
    }

    @keyframes moveStars {
      from { transform: translate3d(0, 0, 0); }
      to   { transform: translate3d(-600px, 500px, 0); }
    }

    /* === DUŻE MIGOCZĄCE GWIAZDY === */
    #big-stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
    }

    .big-star {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      box-shadow:
        0 0 10px rgba(255, 255, 255, 0.9),
        0 0 18px rgba(160, 210, 255, 0.9);
      transform-origin: center;
      animation: bigStarTwinkle 5s ease-in-out infinite;
    }

    @keyframes bigStarTwinkle {
      0% {
        opacity: 0.3;
        transform: scale(1);
      }
      25% {
        opacity: 0.9;
        transform: scale(1.25);
      }
      50% {
        opacity: 0.6;
        transform: scale(1.1);
      }
      75% {
        opacity: 1;
        transform: scale(1.3);
      }
      100% {
        opacity: 0.3;
        transform: scale(1);
      }
    }

    /* === CZĄSTKI (PARTICLES) === */
    #particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      z-index: -1;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      animation: float 10s infinite ease-in-out;
      box-shadow:
        0 0 4px rgba(255, 255, 255, 0.8),
        0 0 8px rgba(0, 200, 255, 0.5);
    }

    @keyframes float {
      0%   { transform: translateY(0)   translateX(0)   scale(1);   opacity: 0.9; }
      40%  { transform: translateY(-40px) translateX(10px) scale(1.3); opacity: 0.6; }
      70%  { transform: translateY(-20px) translateX(-10px) scale(1.1); opacity: 0.8; }
      100% { transform: translateY(0)   translateX(0)   scale(1);   opacity: 0.9; }
    }

    /* === NAGŁÓWEK === */
    header {
      text-align: center;
      margin-bottom: 25px;
    }

    h1 {
      margin-bottom: 10px;
      font-size: 2.3rem;
      text-shadow: 0 0 18px #ff3355, 0 0 45px rgba(255, 51, 85, 0.6);
      letter-spacing: 1px;
    }

    h2 {
      text-align: center;
      margin-bottom: 15px;
      font-size: 1.4rem;
      color: #c5cfff;
      text-shadow: 0 0 10px rgba(90, 160, 255, 0.5);
    }

    /* === INPUT === */
    .search-wrapper {
      display: flex;
      justify-content: center;
      margin-bottom: 25px;
      padding: 0 5px;
    }

    #search-input {
      width: 100%;
      max-width: 500px;
      padding: 12px 15px;
      font-size: 16px;
      border: 2px solid rgba(90, 160, 255, 0.55);
      border-radius: 10px;
      background-color: rgba(5, 10, 35, 0.9);
      color: #fff;
      box-shadow: 0 0 15px rgba(30, 144, 255, 0.35);
      transition: all 0.3s ease;
    }

    #search-input::placeholder {
      color: #aab4ff;
    }

    #search-input:focus {
      outline: none;
      box-shadow: 0 0 25px rgba(80, 200, 255, 0.65);
      border-color: rgba(80, 200, 255, 0.9);
    }

    /* === PRZYCISKI RÓL === */
    .button-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      transition: all 0.3s ease;
      margin-bottom: 25px;
      padding: 0 5px;
    }

    .button-container button {
      background: radial-gradient(circle at 30% 0%, #444a9a 0, #272955 40%, #141638 100%);
      color: #fff;
      border: 2px solid rgba(104, 162, 255, 0.5);
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.25s ease;
      min-width: 120px;
      font-size: 15px;
      box-shadow:
        0 0 10px rgba(104, 162, 255, 0.35),
        0 0 20px rgba(4, 10, 40, 0.9);
      text-align: center;
      word-break: break-word;
    }

    .button-container button:hover,
    .button-container button:focus-visible {
      background: radial-gradient(circle at 30% 0%, #ff6d9b 0, #d92448 35%, #7a0f2d 100%);
      box-shadow:
        0 0 20px rgba(255, 109, 155, 0.85),
        0 0 35px rgba(255, 51, 102, 0.55);
      transform: translateY(-2px) scale(1.05);
      outline: none;
    }

    .button-container button:focus-visible {
      border-color: #ffffff;
    }

    /* === OPIS ROLI === */
    #display-text {
      background:
        radial-gradient(circle at 0% 0%, rgba(120, 180, 255, 0.07) 0, transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(255, 90, 160, 0.08) 0, transparent 60%),
        rgba(5, 10, 30, 0.92);
      padding: 20px;
      margin-top: 5px;
      border-radius: 14px;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      box-shadow:
        0 0 30px rgba(0, 0, 0, 0.7),
        0 0 25px rgba(40, 120, 255, 0.25);
      font-size: 17px;
      line-height: 1.6;
      border: 1px solid rgba(80, 160, 255, 0.5);
      transition: all 0.4s ease;
      backdrop-filter: blur(4px);
      margin-bottom: 25px;
    }

    /* === PRZYCISKI TRYBÓW === */
    .mode-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
      padding-bottom: 20px;
    }

    .mode-buttons button {
      background: radial-gradient(circle at 0 0, #444a9a 0, #29295f 40%, #151638 100%);
      color: #fff;
      border: 2px solid rgba(100, 170, 255, 0.6);
      padding: 10px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      transition: all 0.3s ease;
      box-shadow: 0 0 10px rgba(80, 160, 255, 0.35);
      min-width: 160px;
      text-align: center;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .mode-buttons button:hover,
    .mode-buttons button:focus-visible {
      background: radial-gradient(circle at 0 0, #ff6d9b 0, #d92448 40%, #7a0f2d 100%);
      box-shadow:
        0 0 20px rgba(255, 109, 155, 0.8),
        0 0 30px rgba(255, 51, 102, 0.4);
      transform: scale(1.03);
      outline: none;
    }

    .mode-buttons button:active {
      transform: scale(0.97);
    }

    .hc-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      font-weight: 700;
      width: 22px;
      height: 22px;
      border-radius: 4px;
      background: #ffff00;
      color: #000000;
      border: 1px solid #00000066;
    }

    /* === TRYB KOMPAKTOWY === */
    body.compact-mode .button-container button {
      padding: 6px 10px;
      font-size: 13px;
      min-width: 80px;
      border-radius: 4px;
    }

    body.compact-mode #search-input {
      padding: 8px 10px;
      font-size: 14px;
      max-width: 400px;
    }

    body.compact-mode #display-text {
      font-size: 15px;
      padding: 15px;
    }

    /* === TRYB WYSOKIEGO KONTRASTU (WCAG – ŻÓŁTO/CZARNY) === */
    body.high-contrast {
      background: #000000 !important;
      color: #FFFF00 !important;
    }

    body.high-contrast::before {
      display: none !important;
    }

    body.high-contrast #stars,
    body.high-contrast #stars2,
    body.high-contrast #stars3,
    body.high-contrast #particles,
    body.high-contrast #big-stars {
      opacity: 0 !important;
    }

    body.high-contrast header h1 {
      color: #FFFF00;
      text-shadow: none;
    }

    body.high-contrast h2 {
      color: #FFFF00;
      text-shadow: none;
    }

    body.high-contrast #search-input {
      background-color: #000000;
      color: #FFFF00;
      border-color: #FFFF00;
      box-shadow: none;
    }

    body.high-contrast #search-input::placeholder {
      color: #FFFF80;
    }

    body.high-contrast #search-input:focus {
      outline: 3px solid #FFFFFF;
      outline-offset: 2px;
      border-color: #FFFFFF;
      box-shadow: none;
    }

    body.high-contrast .button-container button {
      background: #000000;
      color: #FFFF00;
      border: 2px solid #FFFF00;
      box-shadow: none;
      transform: none;
    }

    body.high-contrast .button-container button:hover,
    body.high-contrast .button-container button:focus-visible {
      background: #FFFFFF;
      color: #000000;
      border-color: #000000;
      box-shadow: none;
      transform: none;
      outline: 3px solid #FFFF00;
      outline-offset: 1px;
    }

    body.high-contrast #display-text {
      background: #000000;
      color: #FFFF00;
      border: 2px solid #FFFF00;
      box-shadow: none;
      backdrop-filter: none;
    }

    body.high-contrast .mode-buttons button {
      background: #000000;
      color: #FFFF00;
      border: 2px solid #FFFF00;
      box-shadow: none;
      transform: none;
    }

    body.high-contrast .mode-buttons button:hover,
    body.high-contrast .mode-buttons button:focus-visible {
      background: #FFFFFF;
      color: #000000;
      border-color: #000000;
      box-shadow: none;
      transform: none;
      outline: 3px solid #FFFF00;
      outline-offset: 1px;
    }

    body.high-contrast .hc-icon {
      background: #FFFF00;
      color: #000000;
      border-color: #000000;
    }

    /* === ANIMACJE PRZEJŚCIA TRYBÓW === */
    @keyframes fadeInMode {
      from { opacity: 0.6; filter: blur(2px); }
      to   { opacity: 1;   filter: blur(0); }
    }

    body.mode-animating {
      animation: fadeInMode 0.3s ease forwards;
    }

    /* === RESPONSYWNOŚĆ === */
    @media (max-width: 768px) {
      body {
        padding: 15px 10px;
      }

      h1 {
        font-size: 1.9rem;
      }

      h2 {
        font-size: 1.2rem;
      }

      #display-text {
        font-size: 16px;
      }

      .mode-buttons button {
        width: 100%;
        max-width: 260px;
      }
    }

    @media (max-width: 600px) {
      .button-container {
        flex-direction: column;
        align-items: stretch;
      }

      .button-container button {
        width: 100%;
      }

      .search-wrapper {
        padding: 0;
      }
    }
  </style>
</head>
<body>

  <!-- Gwiazdy i cząstki -->
  <div id="stars"></div>
  <div id="stars2"></div>
  <div id="stars3"></div>

  <!-- Duże migoczące gwiazdy -->
  <div id="big-stars"></div>

  <div id="particles"></div>

  <div class="page-wrapper">
    <header>
      <h1>Among Us - Przegląd ról</h1>
    </header>

    <div class="search-wrapper">
      <input
        type="text"
        id="search-input"
        placeholder="Wpisz nazwę roli..."
        oninput="filterButtons()"
        aria-label="Wyszukaj rolę po nazwie"
      >
    </div>

    <h2>Lista ról</h2>
    <div class="button-container" id="button-container"></div>

    <div id="display-text" aria-live="polite">
      Kliknij nazwę roli, aby zobaczyć opis.
    </div>

    <div class="mode-buttons">
      <!-- NOWY PRZYCISK TRYBU PRZEGLĄDANIA -->
      <button id="viewModeToggle" type="button">
        Tryb przeglądania
      </button>

      <button id="compactModeToggle" type="button">
        Tryb kompaktowy
      </button>

      <button id="contrastModeToggle" type="button" aria-pressed="false">
        <span class="hc-icon" aria-hidden="true">HC</span>
        <span class="hc-label">Tryb wysokiego kontrastu</span>
      </button>
    </div>
  </div>

  <script>
    const buttonData = [
       { title: 'Blackmailer', text: 'możesz wyciszyć osoba używając swojej umiejętności, nie będą mogli pisać i mówić na spotkaniu' },{ title: 'Hypnotist', text: 'hipnotyzujesz osoby, kiedy chcesz możesz kliknąć mass hysteria na spotkaniu przy swojej osobie, powoduje to, że osoby zaznaczone będą mieli problem z widzeniem' }, { title: 'Janitor', text: 'rola usuwa ciała' }, { title: 'Miner', text: 'swoją rolą możesz tworzyć nowe venty' }, { title: 'Undertaker', text: 'swoją rolą możesz przenosić ciała' }, { title: 'Eclipsal', text: 'twoja rola na określony czas oślepia wszystkich przeciwników ' }, { title: 'Escapist', text: 'swoją rolą możesz oznaczyć punkt w miejscu, w którym jesteś, przy drugim użyciu teleportujesz się do tego punktu (punkt resetuje się po spotkaniu)' }, { title: 'Grenadier', text: 'twoja rola na określony czas pokazuje biały ekran przeciwnikom' }, { title: 'Morphling', text: 'rolą możesz pobrać próbkę gracza, przy drugim użyciu zmieniasz się w tego gracza' }, { title: 'Swooper', text: 'przy użyciu umiejętności stajesz się niewidzialny na określony czas' }, { title: 'Venerer', text: 'umiejętność ma wiele efektów zależących od ilości zabitych graczy przez ciebie, za 1 zabójstwo twoja umiejętność daje efekt kamuflażu, za 2 stajesz się szybszy, za 3 zabójstwo każdy staje się wolniejszy' }, { title: 'Bomber', text: 'możesz podłożyć bombę, która zabije wszystkie osoby w polu po kilku sekundach (UWAGA: Bomby również zabijają impostorów)' }, { title: 'Scavenger', text: 'Scavenger ma konkretny cel, który ma zabić (pokazuje go strzałka), jeżeli go zabije to otrzymuje szybszy kill cooldown, jeżeli zabije inną osobę otrzyma 3 razy dłuższy kill cooldown' }, { title: 'Traitor', text: 'Impostor, w którego losowo może się zamienić crewmate, jeżeli nie ma już impostorów' }, { title: 'Warlock', text: 'możesz zabić wiele graczy na raz, jeżeli twój kill cooldown jest naładowany do 100% (kill cooldown szybciej się ładuje, jeżeli jesteś sam)' }, { title: 'Amnesiac', text: 'rola „bez roli”, widzisz strzałki do ciał, jeżeli jedno znajdziesz możesz z niego wziąć role osoby zmarłej (Amnesiac nie wygrywa jako crewmate, aby wygrać musi znaleźć rolę)' }, { title: 'Guardian Angel', text: 'masz za zadanie ochronić innego gracza, masz umiejętność, którą możesz dać mu tarczę na określony czas (Guardian Angel wygrywa z osobą, którą broni, po zabiciu osoby, którą masz bronić stajesz się Amnesiaciem)' }, { title: 'Mercenary', text: 'bronisz innych graczy, jeżeli kogoś obronisz dostajesz pieniądze, za każde pieniądze możesz kogoś przekupić, jeżeli ktoś z przekupionych wygra grę wygrywasz z nim' }, { title: 'Survivor', text: 'aby wygrać musisz przetrwać, masz umiejętność tymczasowej obrony' }, { title: 'Doomsayer', text: 'aby wygrać musisz zgadnąć rolę graczy podczas spotkania, masz umiejętność obserwowania graczy, która da ci ograniczone informacje o potencjalnych rolach na czacie' }, { title: 'Executioner', text: 'musisz wygłosować twój cel, aby wygrać, jeżeli cel zginie staniesz się jesterem' }, { title: 'Jester', text: 'aby wygrać musisz zostać wygłosowanym' }, { title: 'Phantom', text: 'aby stać się Phantomem musisz zginąć w pierwszej rundzie, aby wygrać jako Phantom musisz zrobić wszystkie zadania, Phantoma można zabić poprzez klikanie go myszką' }, { title: 'Arsonist', text: 'umiejętnością polewasz graczy benzyną, po oznaczeniu graczy możesz ich podpalić, zabije to wszystkich oznaczonych graczy' }, { title: 'Glitch', text: 'jako Glitch możesz zmieniać się w innych graczy przy użyciu mimic, możesz również hackować innych graczy, co spowoduje że nie będą mogli nić robić przez jakiś czas' }, { title: 'Juggernaut', text: 'jako Juggernaut twój kill cooldown zmniejsza się o 5s, po każdym zabójstwie' }, { title: 'Plaguebearer', text: 'musisz zarazić wszystkich graczy, możesz to zrobić poprzez użycie umiejętności lub interakcji gracz zarażonego z innym. Jak zarazisz wystarczająco dużo graczy stajesz się Pestilence, nie mogą cię wtedy zabić' }, { title: 'Soul Collector', text: 'oznaczasz graczy, oznaczeni gracze nie pozostawiają ciała, tylko dusze, które musisz zebrać aby wygrać' }, { title: 'Vampire', text: 'jako wampir możesz ugryźć innego gracz, który nie jest rolą złą, wtedy stanie się też wampirem' }, { title: 'Werewolf', text: 'jako wilk możesz zabijać tylko po kliknięciu rampage, po kliknięciu masz krótki kill cooldown i nieskończoną wizję' }, { title: 'Haunter', text: 'Haunter jest podobny do Phantoma, możesz nim zostać jeżeli zginiesz jako Crewmate. Haunter ma za zadanie zrobić wszystkie zadania, jeżeli to zrobi każdy na spotkaniu zobaczy kto jest impostorem' }, { title: 'Investigator', text: 'widzisz ślady wszystkich graczy' }, { title: 'Lookout', text: 'możesz oznaczyć graczy, na spotkaniu na czacie będziesz miał napisane jakie role miały z nimi interakcje' }, { title: 'Mystic', text: 'po śmierci gracza zaświeci ci się ekran i na chwilę zobaczysz strzałkę kierującą do ciała' }, { title: 'Seer', text: 'swoją umiejętnością możesz sprawdzać czy gracz jest złą zabijającą rolą (czerwony->zła, zielony->dobra)' }, { title: 'Snitch', text: 'jeżeli zrobisz wszystkie zadania to na spotkaniu będziesz widział impostorów (UWAGA: jak pozostanie ci jedno zadanie to impostor widzi kim jesteś)' }, { title: 'Trapper', text: 'możesz stawiać pułapki, jak kilka osób wejdzie w pułapkę to na spotkaniu na czacie pokażą się ich role' }, { title: 'Deputy', text: 'jako Deputy możesz oznaczać graczy, jeżeli oznaczony gracz zginie dostajesz powiadomienie, możesz wtedy spróbować zgadnąć zabójcę na spotkaniu, jeżeli go zgadniesz to on zginie, jeżeli nie to nic się nie stanie' }, { title: 'Hunter', text: 'oznaczasz graczy, jeżeli oznaczony gracz wykona interakcję możesz go zabić, nie zginiesz jeżeli trafisz w Crewmate' }, { title: 'Sheriff', text: 'możesz zabić każdego gracza, jeżeli jest zły to zginie, jeżeli jest dobry to ty zginiesz' }, { title: 'Veteran', text: 'możesz użyć swojej umiejętności dzięki której jak ktoś będzie próbował coś ci zrobić, on zginie (Crewmate również może zginąć)' }, { title: 'Vigilante', text: 'możesz zgadywać złe role na spotkaniu' }, { title: 'Jailor', text: 'możesz więzić graczy, z uwięzionymi graczami możesz rozmawiać przez czat na spotkaniu (przy pomocy /jail), możesz również zabić uwięzionego gracza, jeżeli gracz będzie dobry to już nie będziesz mógł więzić graczy' }, { title: 'Politician', text: 'oznaczasz graczy, jeżeli masz oznaczoną większość graczy to wtedy możesz użyć umiejętności na spotkaniu i zostać Mayorem (który ma 3 głosy zamiast 1)' }, { title: 'Prosecutor', text: 'możesz wyrzucić osobę na spotkaniu niezależnie od głosów, jeżeli wyrzucisz Crewmate to zginiesz' }, { title: 'Swapper', text: 'możesz zamieniać głosy na spotkaniu' }, { title: 'Altruist', text: 'możesz wskrzesić graczy przy pomocy twojej umiejętności' }, { title: 'Medic', text: 'dajesz jednemu graczu tarczę która go chroni przed zabójstwem, jeżeli ktoś go będzie próbował zabić dostaniesz alert' }, { title: 'Engineer', text: 'możesz używać ventów oraz naprawić sabotaż przy pomocy umiejętności' }, { title: 'Imitator', text: 'możesz przy spotkaniu wybrać rolę zabitych dobrych graczy' }, { title: 'Medium', text: 'po użyciu umiejętności zobaczysz strzałkę i ducha ostatniego zabitego gracza w tej rundzie' }, { title: 'Transporter', text: 'możesz zmienić pozycje 2 graczy ze sobą' } 
    ];

    function renderButtons(filter = '') {
      const container = document.getElementById('button-container');
      container.innerHTML = '';
      const query = filter.toLowerCase();

      const isBeginner = false; 
      buttonData
        .filter(btn => btn.title.toLowerCase().includes(query))
        .filter(btn => !isBeginner || btn.level !== 'advanced')
        .forEach((btn) => {
          const button = document.createElement('button');
          button.type = 'button';
          button.textContent = btn.title;
          button.onclick = () => {
            const box = document.getElementById('display-text');
            box.textContent = btn.text; 
          };
          container.appendChild(button);
        });
    }

    function filterButtons() {
      const query = document.getElementById('search-input').value;
      renderButtons(query);
    }

    const compactBtn  = document.getElementById('compactModeToggle');
    const contrastBtn = document.getElementById('contrastModeToggle');
    const viewModeBtn = document.getElementById('viewModeToggle');

    function animateModeChange(callback) {
      document.body.classList.add('mode-animating');
      callback();
      setTimeout(() => document.body.classList.remove('mode-animating'), 300);
    }

    const savedCompact   = localStorage.getItem('compact-mode') === 'true';
    const savedContrast  = localStorage.getItem('high-contrast') === 'true';
    const savedViewMode  = localStorage.getItem('view-mode') === 'true';

    if (savedCompact) {
      document.body.classList.add('compact-mode');
      compactBtn.textContent = 'Wyłącz tryb kompaktowy';
    }

    if (savedViewMode) {
      document.body.classList.add('view-mode');
      viewModeBtn.textContent = 'Wyłącz tryb przeglądania';
    }

    function updateContrastButtonState(on) {
      const labelSpan = contrastBtn.querySelector('.hc-label');
      contrastBtn.setAttribute('aria-pressed', on ? 'true' : 'false');
      labelSpan.textContent = on ? 'Wyłącz wysoki kontrast' : 'Tryb wysokiego kontrastu';
    }

    function shouldEnableHighContrastInitially() {
      if (savedContrast === true) return true;
      if (savedContrast === false) return false;

      let prefersHighContrast = false;
      let prefersDark = false;

      if (window.matchMedia) {
        try {
          if (window.matchMedia('(prefers-contrast: more)').matches) {
            prefersHighContrast = true;
          }
        } catch (e) {}

        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          prefersDark = true;
        }
      }

      if (prefersHighContrast) return true;
      if (prefersDark) return true;

      return false;
    }

    const enableHCInitially = shouldEnableHighContrastInitially();
    if (enableHCInitially) {
      document.body.classList.add('high-contrast');
      updateContrastButtonState(true);
    }

    compactBtn.addEventListener('click', () => {
      animateModeChange(() => {
        document.body.classList.toggle('compact-mode');
        const on = document.body.classList.contains('compact-mode');
        compactBtn.textContent = on ? 'Wyłącz tryb kompaktowy' : 'Tryb kompaktowy';
        localStorage.setItem('compact-mode', on);
      });
    });

    contrastBtn.addEventListener('click', () => {
      animateModeChange(() => {
        const body = document.body;
        body.classList.toggle('high-contrast');
        const on = body.classList.contains('high-contrast');
        updateContrastButtonState(on);
        localStorage.setItem('high-contrast', on);
      });
    });

    /* LOGIKA TRYBU PRZEGLĄDANIA */
    viewModeBtn.addEventListener('click', () => {
      animateModeChange(() => {
        document.body.classList.toggle('view-mode');
        const on = document.body.classList.contains('view-mode');
        viewModeBtn.textContent = on ? 'Wyłącz tryb przeglądania' : 'Tryb przeglądania';
        localStorage.setItem('view-mode', on);
      });
    });

    /* CZĄSTKI */
    const particleContainer = document.getElementById('particles');
    const particleColors = [
      'rgba(255, 255, 255, 0.95)',
      'rgba(160, 210, 255, 0.9)',
      'rgba(120, 220, 255, 0.9)',
      'rgba(255, 180, 230, 0.95)'
    ];

    for (let i = 0; i < 40; i++) {
      const p = document.createElement('div');
      p.classList.add('particle');
      const size = Math.random() * 3 + 1;
      const color = particleColors[Math.floor(Math.random() * particleColors.length)];
      p.style.width = size + 'px';
      p.style.height = size + 'px';
      p.style.backgroundColor = color;
      p.style.left = Math.random() * 100 + '%';
      p.style.top = Math.random() * 100 + '%';
      p.style.animationDuration = 6 + Math.random() * 12 + 's';
      p.style.animationDelay = (-Math.random() * 10) + 's';
      particleContainer.appendChild(p);
    }

    /* DUŻE MIGOCZĄCE GWIAZDY */
    const bigStarsContainer = document.getElementById('big-stars');
    const bigStarColors = [
      'rgba(255, 255, 255, 1)',
      'rgba(190, 220, 255, 1)',
      'rgba(255, 230, 200, 1)'
    ];

    const bigStarCount = 5;

    for (let i = 0; i < bigStarCount; i++) {
      const s = document.createElement('div');
      s.classList.add('big-star');

      const color = bigStarColors[Math.floor(Math.random() * bigStarColors.length)];
      s.style.backgroundColor = color;

      const top = Math.random() * 80;
      const left = Math.random() * 80 + 10;

      s.style.top = top + '%';
      s.style.left = left + '%';

      s.style.animationDuration = (4 + Math.random() * 4) + 's';
      s.style.animationDelay = (-Math.random() * 6) + 's';

      bigStarsContainer.appendChild(s);
    }

    renderButtons();
  </script>

</body>
</html>
